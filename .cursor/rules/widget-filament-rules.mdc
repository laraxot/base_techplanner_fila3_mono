---
description:
globs:
alwaysApply: false
---
## [AGGIORNAMENTO 2024-06-XX] - Disponibilità solo su appointments
- Le disponibilità dei dottori vanno gestite solo tramite la tabella appointments (con patient_id null o type AVAILABILITY).
- Vietato creare tabelle o modelli separati (es. doctor_availabilities) per le disponibilità.
- Tutto il calendario lavora su appointments, distinguendo tra disponibilità e appuntamenti tramite i campi esistenti.
- Motivazione: un solo punto di verità, DRY, KISS, nessun lock-in, serenità del codice, nessuna duplicazione, massima compatibilità con FullCalendar e Filament.
- Checklist: vedi docs/appointment-management.md, docs/calendar/doctor-availability-management.md, docs/fullcalendar_parental_widgets.md, docs/calendar/widgets/doctor-calendar-widget.md
