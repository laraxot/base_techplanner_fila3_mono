# Sistema di Localizzazione e Internazionalizzazione

## Introduzione

Questo documento descrive il sistema di localizzazione e internazionalizzazione del tema "One", inclusi i file di traduzione, le configurazioni e le best practices per il supporto multilingua.

## Struttura File

```
resources/
├── lang/
│   ├── en/
│   │   ├── auth.php
│   │   ├── pagination.php
│   │   ├── passwords.php
│   │   ├── validation.php
│   │   └── theme/
│   │       ├── components.php
│   │       ├── errors.php
│   │       └── messages.php
│   ├── it/
│   │   ├── auth.php
│   │   ├── pagination.php
│   │   ├── passwords.php
│   │   ├── validation.php
│   │   └── theme/
│   │       ├── components.php
│   │       ├── errors.php
│   │       └── messages.php
│   └── ...
```

## Configurazione

### Configurazione Locale
```php
// config/app.php
return [
    'locale' => 'it',
    'fallback_locale' => 'en',
    'available_locales' => ['en', 'it', 'es', 'fr', 'de'],
];
```

### Middleware Locale
```php
// app/Http/Middleware/SetLocale.php
class SetLocale
{
    public function handle($request, Closure $next)
    {
        if ($locale = $request->segment(1)) {
            if (in_array($locale, config('app.available_locales'))) {
                app()->setLocale($locale);
            }
        }
        
        return $next($request);
    }
}
```

## File di Traduzione

### Componenti
```php
// resources/lang/it/theme/components.php
return [
    'button' => [
        'submit' => 'Invia',
        'cancel' => 'Annulla',
        'save' => 'Salva',
        'delete' => 'Elimina',
    ],
    'form' => [
        'labels' => [
            'name' => 'Nome',
            'email' => 'Email',
            'password' => 'Password',
        ],
        'placeholders' => [
            'name' => 'Inserisci il nome',
            'email' => 'Inserisci l\'email',
            'password' => 'Inserisci la password',
        ],
    ],
];
```

### Messaggi
```php
// resources/lang/it/theme/messages.php
return [
    'welcome' => 'Benvenuto in :app',
    'profile' => [
        'updated' => 'Profilo aggiornato con successo',
        'error' => 'Si è verificato un errore durante l\'aggiornamento del profilo',
    ],
    'settings' => [
        'saved' => 'Impostazioni salvate con successo',
        'error' => 'Si è verificato un errore durante il salvataggio delle impostazioni',
    ],
];
```

### Errori
```php
// resources/lang/it/theme/errors.php
return [
    '404' => [
        'title' => 'Pagina non trovata',
        'message' => 'La pagina che stai cercando non esiste.',
    ],
    '500' => [
        'title' => 'Errore del server',
        'message' => 'Si è verificato un errore interno del server.',
    ],
    'maintenance' => [
        'title' => 'Manutenzione in corso',
        'message' => 'Il sito è in manutenzione. Torneremo presto online.',
    ],
];
```

## Utilizzo nel Frontend

### JavaScript
```javascript
// resources/js/i18n.js
export const translations = {
    en: {
        welcome: 'Welcome to :app',
        profile: {
            updated: 'Profile updated successfully',
        },
    },
    it: {
        welcome: 'Benvenuto in :app',
        profile: {
            updated: 'Profilo aggiornato con successo',
        },
    },
};

export const t = (key, locale = 'it') => {
    const keys = key.split('.');
    let value = translations[locale];
    
    for (const k of keys) {
        value = value[k];
    }
    
    return value;
};
```

### Componenti Vue
```javascript
// resources/js/components/LanguageSelector.vue
<template>
    <select v-model="locale" @change="changeLocale">
        <option v-for="lang in availableLocales" :key="lang" :value="lang">
            {{ t(`languages.${lang}`) }}
        </option>
    </select>
</template>

<script>
export default {
    data() {
        return {
            locale: this.$i18n.locale,
            availableLocales: ['en', 'it', 'es', 'fr', 'de'],
        };
    },
    methods: {
        changeLocale() {
            this.$i18n.locale = this.locale;
            document.documentElement.lang = this.locale;
        },
    },
};
</script>
```

## Best Practices

### Traduzioni
- Utilizzare chiavi descrittive
- Mantenere struttura coerente
- Evitare stringhe hardcoded
- Gestire plurali
- Documentare contesto

### Localizzazione
- Supportare formati data/ora
- Gestire valute
- Considerare direzione testo
- Adattare layout
- Testare layout

### Manutenzione
- Aggiornare traduzioni
- Verificare completezza
- Gestire fallback
- Documentare cambiamenti
- Coinvolgere team

## Metriche di Successo

### Qualità
- Completezza traduzioni
- Accuratezza
- Consistenza
- Manutenibilità
- Documentazione

### Performance
- Tempo caricamento
- Utilizzo risorse
- Cache traduzioni
- Fallback efficiente
- Scalabilità

## Collegamenti

- [Sistema di Design](../design_system.md)
- [Componenti](../components.md)
- [Guida allo Stile](../style_guide.md)
- [Best Practices](../best_practices.md) 
