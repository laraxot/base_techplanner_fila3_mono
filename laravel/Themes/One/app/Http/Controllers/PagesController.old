<?php

namespace Themes\One\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\Routing\Controller;

class PagesController extends Controller
{
    public function about(Request $request)
    {
        $page = json_decode(file_get_contents(base_path('laravel/config/local/saluteora/database/content/pages/about.json')), true);

        // Estrai i blocchi di contenuto per la lingua corrente
        $locale = app()->getLocale();
        $blocks = $page['content_blocks'][$locale] ?? $page['content_blocks']['it'];

        return view('one::pages.about', [
            'page' => [
                'title' => $page['title'][$locale] ?? $page['title']['it'],
                'slug' => $page['slug'],
                'blocks' => $blocks
            ]
        ]);
    }
}
