includes:
    - ./phpstan-baseline.neon
    - ./vendor/larastan/larastan/extension.neon  
    - ./vendor/nesbot/carbon/extension.neon
    - ./vendor/phpstan/phpstan/conf/bleedingEdge.neon
    - ./vendor/thecodingmachine/phpstan-safe-rule/phpstan-safe-rule.neon

parameters:
    level: 9
    #parallel:
    #    maximumNumberOfProcesses: 4
    #    jobSize: 1
    #    minimumNumberOfJobsPerProcess: 1

    paths:
        - ./Modules/
        # - ./Themes
        # - ./app

    ignoreErrors:
        - '#PHPDoc tag @mixin contains unknown class #'
        - '#Static call to instance method Nwidart#'
        - '#is used zero times and is not analysed#'
        - "#^Unsafe usage of new static#"
        # - '#Method .+::.+ should return .+<.+, (.+)> but returns .+<.+, \$this\(\1\)>#' # Ignora errori di covarianza nei tipi generici delle relazioni Eloquent
        - '#Cannot cast mixed to (string|float|double|int|bool|boolean).#' # Ignora errori di cast da mixed a tipi specifici
        - identifier: missingType.generics
        - identifier: missingType.iterableValue
        - identifier: larastan.noEnvCallsOutsideOfConfig
        - identifier: method.unused

    excludePaths:
        - ./*/vendor/*
        - ./*/build/*
        - ./*/docs/*
        - ./*/Tests/*
        - ./*/phpinsights.php
        - ./*/rector.php
        - ./*/*.blade.php
        # - ./Modules/Activity
        - ./Modules/Media/app/Actions/Image/Merge.php
        # - ./Modules/Xot/app/Filament/Traits/HasXotTable.php
        - ./Modules/*/packages/*
        - ./Modules/*/tests/*
        #- ./Modules/*/vendor/*
        #- ./Modules/*/*.blade.php

    bootstrapFiles:
        # - ./phpstan_bootstrap.php
        - ./phpstan_constants.php
        # - ./vendor/amenadiel/jpgraph/src/config.inc.php

    scanFiles:
        - ./Modules/Xot/Helpers/Helper.php

    editorUrl: 'vscode://file/%%file%%:%%line%%'
    tmpDir: /tmp/phpstan
    treatPhpDocTypesAsCertain: false
    reportUnmatchedIgnoredErrors: false
