---
description:
globs:
alwaysApply: false
---
# Best Practices per i Widget Filament

## Regole Fondamentali

1. **Estensione delle classi**
   - Estendere SEMPRE `XotBaseWidget` invece di `\Filament\Widgets\Widget`
   - Namespace corretto: `Modules\<nome modulo>\Filament\Widgets`
   - NON usare `Modules\<nome modulo>\App\Filament`

2. **Localizzazione**
   - NON usare `->label()` o `__()` nei componenti
   - Utilizzare i file di traduzione del modulo in `Modules/<nome modulo>/lang/<lingua>`
   - Formato corretto per i campi: `'field_name' => ['label' => 'Label Text']`

3. **Struttura del form**
   - `getFormSchema()` deve restituire un array associativo con chiavi stringa
   - Implementare esattamente i campi documentati
   - Mantenere la coerenza con il design system

4. **Documentazione**
   - Studiare attentamente la documentazione esistente prima dell'implementazione
   - Verificare la presenza di file di riferimento (.md, .blade.php, .html)
   - Aggiornare la documentazione nella cartella docs del modulo

5. **Best Practices**
   - Implementare la gestione degli errori e il feedback utente
   - Utilizzare i componenti Filament in modo consistente
   - Seguire i principi DRY e KISS

## Errori Comuni da Evitare

1. **Namespace errato**
   - ❌ `Modules\<nome>\App\Filament`
   - ✅ `Modules\<nome>\Filament`

2. **Localizzazione diretta**
   - ❌ `->label('Label')`
   - ✅ Usare i file di traduzione del modulo

3. **Estensione diretta di Filament**
   - ❌ `extends \Filament\Widgets\Widget`
   - ✅ `extends XotBaseWidget`

4. **Form schema non strutturato**
   - ❌ Array numerico
   - ✅ Array associativo con chiavi stringa

## Link e Documentazione

- [README Filament Widget](../../laravel/Modules/Xot/docs/filament_widget_regole.md)
- [Best Practices Filament](../../laravel/Modules/Xot/docs/filament-best-practices.md)
- [Pattern di Estensione](../../laravel/Modules/Xot/docs/filament_extension_pattern.md)
