---
description: >
  Regola fondamentale per la correzione degli errori e la propagazione delle best practice nei moduli Laravel/Filament/Xot.
globs:
  - '**/*.php'
# Correzione errori, documentazione e propagazione

## Procedura obbligatoria
1. Prima di correggere un errore, comprendi a fondo la causa leggendo tutto il codice e tutte le cartelle docs coinvolte (mai solo la root, sempre la cartella docs più vicina).
2. Aggiorna la documentazione nella cartella docs del modulo coinvolto, crea collegamenti bidirezionali ai file docs principali (es. Xot/docs, Cms/docs).
3. Studia approfonditamente le cartelle docs prima di implementare qualsiasi correzione.
4. Procedi alle correzioni secondo priorità e propaga la correzione a tutti i file che presentano lo stesso errore.
5. Il namespace corretto è sempre `Modules/<nome modulo>/Filament`, mai `Modules/<nome modulo>/App/Filament`.
6. Usa solo i file di traduzione del modulo in `Modules/<nome modulo>/lang/<lingua>`, mai `->label()`.
7. Le regole generali vanno documentate in Xot/docs, con collegamenti bidirezionali.
8. Gli elementi frontend vanno nel modulo Cms.
9. Ogni modulo ha uno scopo specifico e la documentazione deve rifletterlo.
10. Tutti i file PHP devono avere `declare(strict_types=1);`.
11. Non estendere mai classi Filament direttamente, ma solo tramite classi XotBase* con namespace coerente.
12. I metodi come getFormSchema, getTableActions, ecc. restituiscono sempre array associativi con chiavi stringa.
13. Se una select usa options array, passare a enum.
14. Mai usare protected $casts o protected $dates.
15. Segui sempre DRY, KISS e considera filosofia, politica, religione, zen.

## Applicazione
- Aggiorna la documentazione di Xot e dei moduli coinvolti.
- Aggiorna anche questa regola in `.windsurf/rules/correzioni-e-propagazione.mdc`.
- Aggiorna le tue memories interne e la knowledge base.

---
Ultimo aggiornamento: 2025-05-27
Responsabile: Cascade AI

Le classi che estendono \Modules\Xot\Filament\Resources\Pages\XotBaseListRecords devono avere il metodo getTableColumns() che restituisce un array associativo con chiavi stringa, colonne ricavate dal modello o dalla migrazione. Policy aggiornata e propagata in [Xot/docs/filament/listrecords.md](../../laravel/Modules/Xot/docs/filament/listrecords.md) e [<nome progetto>/docs/resources/studio-resource.md](../../laravel/Modules/<nome progetto>/docs/resources/studio-resource.md).

---
Ultimo aggiornamento: 2025-05-27
Responsabile: Cascade AI
