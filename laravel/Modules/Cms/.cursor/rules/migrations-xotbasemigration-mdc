---
description:
globs:
alwaysApply: false
---
# Migrazioni XotBaseMigration: Regole Trasversali

## Introduzione
Queste regole definiscono l'uso corretto dei metodi custom di XotBaseMigration nelle migrazioni.

## Regola
- Usare SEMPRE `$this->hasColumn('nome_colonna')` nelle migrazioni che estendono XotBaseMigration.
- NON usare mai `Schema::hasColumn`.

## Esempio
```php
if (! $this->hasColumn('state')) {
    $this->tableUpdate(function (Blueprint $table) {
        $table->string('state')->nullable();
    });
}
```

## Checklist
- [ ] Solo $this->hasColumn nelle migrazioni Xot
- [ ] Aggiornare tutte le vecchie migrazioni

## Collegamenti correlati
- [User/best-practices.mdc](../../laravel/Modules/User/docs/best-practices.mdc)
- [Xot/MIGRATION_STANDARDS.md](../../laravel/Modules/Xot/docs/MIGRATION_STANDARDS.md)
- [Patient/MIGRATIONS_BEST_PRACTICES.md](../../laravel/Modules/Patient/docs/MIGRATIONS_BEST_PRACTICES.md)
- [database-migrations.md](../../docs/database-migrations.md)
- [README centrale](../../docs/README.md)
