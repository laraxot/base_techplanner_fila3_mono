---
description: 
globs: 
alwaysApply: true
---
# Cursor – Regole, Best Practice, Checklist e Template

## Struttura e Aggiornamento Documentazione
- Seguire la gerarchia: docs/ (globale), Modules/[Module]/docs/ (modulo), .cursor/rules (regole Cursor)
- Ogni nuova regola va documentata sia nel modulo che nella root, con backlink e motivazione
- Aggiornare sempre .cursor/rules per ogni variazione
- Mantenere la coerenza tra .cursor/rules, .windsurf/rules e la documentazione dei moduli

## Checklist Operativa
- [ ] Aggiorna la documentazione del modulo e la root
- [ ] Aggiorna .cursor/rules e .windsurf/rules
- [ ] Fornisci esempi pratici e motivazione
- [ ] Crea/aggiorna backlink e riferimenti incrociati
- [ ] Valida la coerenza tra tutte le documentazioni
- [ ] Aggiorna la sezione anti-pattern e cosa NON fare

## Regole Cursor per MCP e AI
- Le regole Cursor sono salvate in `.cursor/rules/`
- Le memorie persistenti sono in `.cursor/memories/`
- Aggiornare sempre `.cursor/rules` e `.cursor/memories` dopo ogni fix o modifica
- Documentare ogni variazione di configurazione MCP
- Fornire esempi pratici e motivazione

## Esempio di Configurazione .cursor/mcp.json
```json
{
    "contextProviders": [
        "tenant",
        "user",
        "permissions"
    ],
    "contextValidation": true,
    "contextPropagation": true
}
```

## Template per Nuova Regola
```md
### [Titolo Regola]
- **Ambito**: [globale/modulo]
- **Motivazione**: [perché è importante]
- **Regola**: [enunciato chiaro]
- **Esempio pratico**:
  ```php
  // Codice di esempio
  ```
- **Anti-pattern**:
  ```php
  // Codice da evitare
  ```
- **Collegamenti**: [link a doc correlate]
```

## Cosa NON fare (Anti-pattern)
- Non duplicare regole tra .cursor/rules e .windsurf/rules senza motivazione e backlink
- Non aggiornare solo la documentazione di modulo: serve sempre anche la root e le regole globali
- Non lasciare regole senza esempio pratico o motivazione
- Non ignorare la validazione incrociata tra regole, doc e codice

## Come mantenere la coerenza tra regole e documentazione
1. Ogni variazione va documentata sia nella regola che nella doc del modulo e nella root
2. Aggiornare sempre sia .cursor/rules che .windsurf/rules
3. Usare backlink e riferimenti incrociati tra file
4. Validare periodicamente la coerenza tra tutte le fonti
5. Usare checklist e template per ogni nuova regola

## Best Practice
- Validare sempre il contesto prima dell'uso
- Utilizzare oggetti di contesto immutabili
- Documentare i requisiti di contesto
- Implementare la propagazione del contesto
- Usare il contesto anche per logging e monitoring
- Audit di sicurezza periodici

## Collegamenti e Risorse
- [model_context_protocol.md](mdc:../../docs/model_context_protocol.md)
- [mcp_implementation_guide.md](mdc:../../docs/mcp_implementation_guide.md)
- [mcp_errors_and_lessons.md](mdc:../../docs/mcp_errors_and_lessons.md)
- [phpstan_usage.md](mdc:../../docs/phpstan_usage.md)
- [laraxot_conventions.md](mdc:../../docs/laraxot_conventions.md)
- [laraxot-framework.md](mdc:../../docs/laraxot-framework.md)
- [README.md](mdc:../../docs/README.md)
- [windsurf.mdc](mdc:windsurf.mdc)

## Ultimo aggiornamento
2025-06-04
