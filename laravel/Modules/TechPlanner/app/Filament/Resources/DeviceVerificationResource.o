<?php

declare(strict_types=1);

namespace Modules\TechPlanner\Filament\Resources;

use Filament\Forms;
use Modules\TechPlanner\Models\DeviceVerification;
use Modules\Xot\Filament\Resources\XotBaseResource;

class DeviceVerificationResource extends XotBaseResource
{
    protected static ?string $model = DeviceVerification::class;

    public static function form(Forms\Form $form): Forms\Form
    {
        return $form->schema(self::getFormSchema());
    }

    protected static function getFormSchema(): array
    {
        return [
            Forms\Components\Select::make('device_id')
                ->relationship('device', 'name') // Assuming you have a Device model with a name field
                ->required(),
            Forms\Components\DatePicker::make('verification_date')->nullable(),
            Forms\Components\Select::make('status')
                ->options([
                    'pending' => 'Pending',
                    'verified' => 'Verified',
                    'failed' => 'Failed',
                ])
                ->nullable(),
        ];
    }

    public static function getPages(): array
    {
        return [
            'index' => [
                'label' => 'Device Verifications',
                'class' => ListRecords::class,
            ],
        ];
    }
}
