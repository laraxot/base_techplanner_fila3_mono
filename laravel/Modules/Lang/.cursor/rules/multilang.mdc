# Regole per la Gestione del Multilingua

## Struttura dei File

1. **Percorso delle Traduzioni**
   - Le traduzioni vanno in `resources/lang/{locale}/`
   - I moduli devono avere la propria sottocartella (es: `resources/lang/it/patient/`)

2. **Convenzioni di Nome**
   - Usare nomi di file in minuscolo con underscore (es: `patient_profile.php`)
   - Usare chiavi in snake_case
   - Prefissare le chiavi con il nome del modulo (es: `patient.profile.title`)

## Regole di Validazione

### 1. Formato delle Chiavi

```regex
^[a-z]+(\.[a-z0-9_]+)+$
```

Esempi validi:
- `auth.login.title`
- `patient.profile.contact_info`
- `validation.required`

### 2. Struttura del File

Ogni file di traduzione deve avere:
- Intestazione con descrizione
- Commenti per sezioni logiche
- Chiavi organizzate gerarchicamente

```php
<?php

return [
    /*
    |--------------------------------------------------------------------------
    | Authentication Language Lines
    |--------------------------------------------------------------------------
    |
    | The following language lines are used during authentication for various
    | messages that we need to display to the user. You are free to modify
    | these language lines according to your application's requirements.
    |
    */


    'failed' => 'Credenziali non valide.',
    'throttle' => 'Troppi tentativi di accesso. Riprova tra :seconds secondi.',
];
```

## Best Practices

1. **Non concatenare stringhe**
   ```php
   // Sbagliato
   __('messages.welcome') . ' ' . $user->name;
   
   // Corretto
   __('messages.welcome_user', ['name' => $user->name]);
   ```

2. **Usare i parametri**
   ```php
   // messages.php
   'welcome' => 'Benvenuto, :name!',
   
   // Nel codice
   __('messages.welcome', ['name' => $user->name]);
   ```

3. **Pluralizzazione**
   ```php
   // messages.php
   'apples' => '{0} Nessuna mela|{1} Una mela|[2,*] :count mele',
   
   // Nel codice
   trans_choice('messages.apples', $count);
   ```

## Regole per i Sviluppatori

1. **Commit**
   - Non committare mai chiavi di traduzione vuote
   - Aggiornare tutte le lingue supportate
   
2. **Revisione**
   - Verificare che tutte le chiavi siano tradotte
   - Controllare la formattazione
   
3. **Manutenzione**
   - Rimuovere le chiavi non pi√π utilizzate
   - Aggiornare la documentazione quando si aggiungono nuove chiavi
