# Modulo Activity

Data: 2025-04-23 19:09:55

## Informazioni generali

- **Namespace principale**: Modules\\Activity
Modules\\Activity\\Database\\Factories
Modules\\Activity\\Database\\Seeders
Workbench\\App
Workbench\\Database\\Factories
Workbench\\Database\\Seeders
- **Pacchetto Composer**: laraxot/module_activity_fila3
Marco Sottana
- **Dipendenze**: spatie/laravel-activitylog * spatie/laravel-event-sourcing * repositories type path url ../Xot type path url ../Tenant type path url ../UI scripts post-autoload-dump 
- **Totale file PHP**: 55
- **Totale classi/interfacce**: 30

## Struttura delle directory

```

.git
.git/branches
.git/hooks
.git/info
.git/logs
.git/logs/refs
.git/logs/refs/heads
.git/logs/refs/remotes
.git/logs/refs/remotes/aurmich
.git/objects
.git/objects/02
.git/objects/03
.git/objects/04
.git/objects/05
.git/objects/06
.git/objects/08
.git/objects/09
.git/objects/0a
.git/objects/0c
.git/objects/11
.git/objects/14
.git/objects/16
.git/objects/17
.git/objects/19
.git/objects/1e
.git/objects/20
.git/objects/21
.git/objects/22
.git/objects/24
.git/objects/25
.git/objects/26
.git/objects/27
.git/objects/29
.git/objects/2b
.git/objects/2e
.git/objects/31
.git/objects/32
.git/objects/33
.git/objects/34
.git/objects/35
.git/objects/36
.git/objects/37
.git/objects/3a
.git/objects/3b
.git/objects/3e
.git/objects/3f
.git/objects/42
.git/objects/43
.git/objects/48
.git/objects/49
.git/objects/4b
.git/objects/4c
.git/objects/4d
.git/objects/50
.git/objects/51
.git/objects/53
.git/objects/56
.git/objects/57
.git/objects/58
.git/objects/59
.git/objects/5c
.git/objects/5d
.git/objects/5e
.git/objects/60
.git/objects/61
.git/objects/63
.git/objects/65
.git/objects/66
.git/objects/67
.git/objects/69
.git/objects/6a
.git/objects/6c
.git/objects/6d
.git/objects/6e
.git/objects/70
.git/objects/73
.git/objects/75
.git/objects/76
.git/objects/79
.git/objects/7a
.git/objects/7d
.git/objects/7e
.git/objects/80
.git/objects/81
.git/objects/82
.git/objects/83
.git/objects/86
.git/objects/8f
.git/objects/90
.git/objects/91
.git/objects/93
.git/objects/95
.git/objects/96
.git/objects/97
.git/objects/99
.git/objects/9a
.git/objects/9d
.git/objects/9e
.git/objects/a0
.git/objects/a2
.git/objects/a4
.git/objects/a5
.git/objects/a6
.git/objects/a7
.git/objects/a8
.git/objects/a9
.git/objects/ab
.git/objects/ac
.git/objects/ad
.git/objects/af
.git/objects/b2
.git/objects/b4
.git/objects/b5
.git/objects/b7
.git/objects/bd
.git/objects/be
.git/objects/bf
.git/objects/c0
.git/objects/c1
.git/objects/c3
.git/objects/c4
.git/objects/c6
.git/objects/c7
.git/objects/c9
.git/objects/ca
.git/objects/cb
.git/objects/cd
.git/objects/ce
.git/objects/cf
.git/objects/d0
.git/objects/d3
.git/objects/d4
.git/objects/d5
.git/objects/d6
.git/objects/d7
.git/objects/d8
.git/objects/d9
.git/objects/da
.git/objects/db
.git/objects/dc
.git/objects/dd
.git/objects/de
.git/objects/df
.git/objects/e1
.git/objects/e2
.git/objects/e6
.git/objects/e8
.git/objects/ea
.git/objects/ec
.git/objects/ed
.git/objects/ee
.git/objects/ef
.git/objects/f0
.git/objects/f1
.git/objects/f2
.git/objects/f3
.git/objects/f4
.git/objects/f7
.git/objects/f9
.git/objects/fc
.git/objects/fd
.git/objects/fe
.git/objects/ff
.git/objects/info
.git/objects/pack
.git/refs
.git/refs/heads
.git/refs/remotes
.git/refs/remotes/aurmich
.git/refs/tags
.github
.github/ISSUE_TEMPLATE
.github/workflows
.vscode
View
View/Components
_docs
app
app/Actions
app/Console
app/Console/Commands
app/Enums
app/Events
app/Filament
app/Filament/Forms
app/Filament/Forms/Components
app/Filament/Pages
app/Filament/Resources
app/Filament/Resources/ActivityResource
app/Filament/Resources/ActivityResource/Pages
app/Filament/Resources/SnapshotResource
app/Filament/Resources/SnapshotResource/Pages
app/Filament/Resources/StoredEventResource
app/Filament/Resources/StoredEventResource/Pages
app/Http
app/Http/Controllers
app/Http/Livewire
app/Http/Middleware
app/Http/Requests
app/Listeners
app/Models
app/Models/Policies
app/Providers
app/Providers/Filament
app/View
app/View/Components
bashscripts
config
database
database/factories
database/migrations
database/seeders
docs
docs/.github
docs/.github/workflows
docs/archived
docs/archived/.github
docs/archived/.github/workflows
docs/database
docs/phpstan
lang
lang/it
resources
resources/assets
resources/assets/js
resources/assets/sass
resources/svg
resources/views
resources/views/admin
resources/views/admin/dashboard
resources/views/components
resources/views/filament
resources/views/filament/pages
resources/views/filament/tables
resources/views/filament/tables/columns
resources/views/layouts
routes
tests
tests/Feature
tests/Unit
tests/tests
tests/tests/Feature
tests/tests/Unit
tests_old
workbench
workbench/app
workbench/app/Models
workbench/app/Providers
workbench/database
workbench/database/factories
workbench/database/migrations
workbench/database/seeders
workbench/resources
workbench/resources/views
workbench/routes
```

## Namespace e autoload

## Collegamenti

- [Torna a README](./README.md)
- [Vai a Roadmap](./roadmap.md)
- [Vai a Bottlenecks](./bottlenecks.md)


```json
    "autoload": {
        "psr-4": {
            "Modules\\Activity\\": "app/",
            "Modules\\Activity\\Database\\Factories\\": "database/factories/",
            "Modules\\Activity\\Database\\Seeders\\": "database/seeders/"
        }
    },
    "require": {
        "spatie/laravel-activitylog": "*",
        "spatie/laravel-event-sourcing": "*"
    },
    "require-dev": {},
    "repositories": [
        {
            "type": "path",
            "url": "../Xot"
--
        "post-autoload-dump": [],
        "post-update-cmd": [
            "Illuminate\\Foundation\\ComposerScripts::postUpdate"
        ],
        "analyse": "vendor/bin/phpstan analyse",
        "test": "./vendor/bin/pest --no-coverage",
        "test-coverage": "vendor/bin/pest --coverage-html coverage",
        "format": "vendor/bin/php-cs-fixer fix --allow-risky=yes",
        "clear": "@php vendor/bin/testbench package:purge-skeleton --ansi",
        "prepare": "@php vendor/bin/testbench package:discover --ansi",
        "build": "@php vendor/bin/testbench workbench:build --ansi",
        "serve": [
            "Composer\\Config::disableProcessTimeout",
            "@build",
            "@php vendor/bin/testbench serve"
        ],
--
    "autoload-dev": {
        "psr-4": {
            "Workbench\\App\\": "workbench/app/",
            "Workbench\\Database\\Factories\\": "workbench/database/factories/",
            "Workbench\\Database\\Seeders\\": "workbench/database/seeders/"
        }
    }
}
```

## Dipendenze da altri moduli

-       4 Modules\Xot\Database\Migrations\XotBaseMigration;
-       3 Modules\Xot\Filament\Resources\XotBaseResource;
-       3 Modules\Xot\Filament\Resources\Pages\XotBaseListRecords;
-       1 Modules\Xot\Traits\Updater;
-       1 Modules\Xot\Providers\XotBaseServiceProvider;
-       1 Modules\Xot\Providers\XotBaseRouteServiceProvider;
-       1 Modules\Xot\Providers\Filament\XotBasePanelProvider;
-       1 Modules\Xot\Actions\Factory\GetFactoryAction;

## Collegamenti alla documentazione generale

- [Analisi strutturale complessiva](/docs/phpstan/modules_structure_analysis.md)
- [Report PHPStan](/docs/phpstan/)


## Collegamenti tra versioni di structure.md
* [structure.md](bashscripts/docs/structure.md)
* [structure.md](laravel/Modules/Gdpr/docs/structure.md)
* [structure.md](laravel/Modules/Notify/docs/structure.md)
* [structure.md](laravel/Modules/Xot/docs/structure.md)
* [structure.md](laravel/Modules/Xot/docs/base/structure.md)
* [structure.md](laravel/Modules/Xot/docs/config/structure.md)
* [structure.md](laravel/Modules/User/docs/structure.md)
* [structure.md](laravel/Modules/UI/docs/structure.md)
* [structure.md](laravel/Modules/Lang/docs/structure.md)
* [structure.md](laravel/Modules/Job/docs/structure.md)
* [structure.md](laravel/Modules/Media/docs/structure.md)
* [structure.md](laravel/Modules/Tenant/docs/structure.md)
* [structure.md](laravel/Modules/Activity/docs/structure.md)
* [structure.md](laravel/Modules/Cms/docs/structure.md)
* [structure.md](laravel/Modules/Cms/docs/themes/structure.md)
* [structure.md](laravel/Modules/Cms/docs/components/structure.md)

## Architettura Event Sourcing e Activity Log

- **Event Store**: tabella/event store per la persistenza degli eventi
- **Aggregate**: classi che rappresentano la logica di dominio e ricostruiscono lo stato tramite replay eventi
- **Projector**: classi che trasformano eventi in viste/materializzazioni (es. ActivityProjector, UserActivityProjector)
- **Reactor**: classi che reagiscono agli eventi per side effect (es. invio notifiche)
- **Snapshot**: meccanismo per salvare lo stato corrente e velocizzare il replay

### Esempio struttura directory
```
Modules/Activity/
├── app/
│   ├── Aggregates/
│   │   └── UserActivityAggregate.php
│   ├── Projectors/
│   │   ├── ActivityProjector.php
│   │   └── UserActivityProjector.php
│   ├── Reactors/
│   │   └── NotificationReactor.php
│   ├── Events/
│   │   └── UserLoggedIn.php
│   ├── Snapshots/
│   │   └── UserActivitySnapshot.php
│   └── ...
```

### Integrazione con activitylog
- Le proiezioni possono scrivere anche su activity_log per compatibilità legacy
- È possibile sincronizzare eventi e log tramite reactor dedicati

### Collegamenti
- [Best Practice Event Sourcing .mdc](../../.cursor/rules/ACTIVITY_EVENT_SOURCING_BEST_PRACTICES.mdc)

