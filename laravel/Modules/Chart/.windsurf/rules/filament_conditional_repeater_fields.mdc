# Regola: Campi Condizionali in Filament Repeater

## Pattern Implementato
Campo `name` condizionale nel repeater addresses di StudioResource che appare solo con più di 1 elemento.

## Template Standard
```php
// Schema personalizzato per repeater con campi condizionali
protected static function getCustomRepeaterSchema(): array
{
    $baseSchema = OriginalResource::getFormSchema();
    
    // Campo condizionale basato sul numero di elementi
    $baseSchema['conditional_field'] = Forms\Components\TextInput::make('conditional_field')
        ->visible(function (Get $get): bool {
            $items = $get('../../repeater_name') ?? [];
            return count($items) > 1;
        })
        ->live();

    return $baseSchema;
}

// Configurazione repeater
'repeater_name' => Forms\Components\Repeater::make('repeater_name')
    ->schema(static::getCustomRepeaterSchema())
    ->live()
    ->defaultItems(1),
```

## Filosofia
- UX intelligente che mostra campi solo quando necessari
- Interfaccia che si adatta dinamicamente al contenuto
- Nessun campo inutile per l'utente finale

## Motivazione
- UI pulita quando non serve complessità
- Campi contestuali che appaiono solo quando distinguono elementi
- Serenità nell'editing dei form

## Pattern di Navigation
- `$get('../../field_name')` per accedere al livello parent del repeater
- `$get('../field_name')` per accedere al livello sibling
- Sempre fallback con `?? []` per gestire inizializzazione

## Use Cases Comuni
1. **Name field**: visibile solo con elementi multipli per distinguerli
2. **Description field**: visibile solo con molti elementi per dettagli extra  
3. **Priority field**: visibile solo quando serve ordinamento
4. **Category field**: visibile solo per raggruppamenti complessi

## Collegamenti
- [Modules/SaluteOra/docs/studio_address_repeater_conditional_name.md](../../laravel/Modules/SaluteOra/docs/studio_address_repeater_conditional_name.md)
- [Modules/SaluteOra/app/Filament/Resources/StudioResource.php](../../laravel/Modules/SaluteOra/app/Filament/Resources/StudioResource.php)

*Pattern estratto dall'implementazione StudioResource - giugno 2025*