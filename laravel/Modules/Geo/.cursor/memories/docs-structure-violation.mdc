# Memoria: Violazione Struttura Cartelle Docs - Corretta

## Contesto
Durante l'audit del sistema SaluteOra, è stata identificata una **violazione critica dell'architettura modulare**: l'esistenza di cartelle `docs/` in posizioni inappropriate che violano i principi di modularità.

## Violazioni Identificate e Corrette

### 1. ❌ Cartella `/docs` nella Root del Progetto
**Problema**: Cartella `docs/` nella root del progetto contenente 13 file di documentazione
**Impatto**: Violazione architettura modulare, duplicazione, confusione
**Stato**: ✅ CORRETTA - Cartella eliminata, documentazione spostata nei moduli

**File migrati**:
- `modularity-hardcoded-names.md` → `laravel/Modules/Notify/docs/`
- `modularity-audit-summary.md` → Contenuto integrato nei moduli specifici
- Altri documenti analizzati e spostati nei moduli appropriati

### 2. ❌ Cartella `/laravel/docs` nella Root Laravel
**Problema**: Cartella `laravel/docs/` contenente 30+ file di documentazione
**Impatto**: Violazione architettura modulare, documentazione non co-locata
**Stato**: ✅ CORRETTA - Cartella eliminata, documentazione spostata nei moduli

**File migrati**:
- `eloquent-unit-tests.md` → `laravel/Modules/SaluteMo/docs/testing/`
- Altri documenti analizzati e spostati nei moduli appropriati

## Regola Critica Implementata

### **Struttura Cartelle Docs - Mai Cartelle Docs nella Root**

**REGOLA ASSOLUTAMENTE VIETATA**:
- ❌ `/var/www/html/_bases/base_{nome_progetto}/docs/` (root progetto)
- ❌ `/var/www/html/_bases/base_{nome_progetto}/laravel/docs/` (root Laravel)

**STRUTTURA CORRETTA OBBLIGATORIA**:
- ✅ `laravel/Modules/{ModuleName}/docs/` - Documentazione del modulo
- ✅ `laravel/Modules/{ModuleName}/docs/{categoria}/` - Sottocategorie
- ✅ `laravel/Modules/{ModuleName}/docs/README.md` - Documentazione principale

## Motivazioni Critiche

### 1. **Violazione Architettura Modulare**
- La documentazione deve essere co-locata con il codice che descrive
- Ogni modulo deve essere autonomo e completo
- La root non deve contenere documentazione specifica

### 2. **Duplicazione e Confusione**
- Crea confusione su dove trovare la documentazione
- Difficile mantenere sincronizzate fonti multiple
- Violazione del principio "Single Source of Truth"

### 3. **Mantenimento Impossibile**
- Documentazione root diventa obsoleta rapidamente
- Difficile aggiornare quando cambia il codice
- Rischio di informazioni contraddittorie

### 4. **Principio di Responsabilità**
- Ogni modulo gestisce la propria documentazione
- La root non ha responsabilità di documentazione
- Separazione netta delle responsabilità

## Azioni Correttive Implementate

### ✅ **Fase 1: Analisi e Migrazione**
- Analisi completa di tutte le cartelle docs inappropriate
- Identificazione del modulo di appartenenza per ogni documento
- Migrazione sistematica nei moduli corretti
- Aggiornamento di tutti i collegamenti e backlink

### ✅ **Fase 2: Eliminazione Violazioni**
- Rimozione completa della cartella `/docs` dalla root
- Rimozione completa della cartella `/laravel/docs`
- Verifica che non esistano altre violazioni

### ✅ **Fase 3: Implementazione Regole**
- Creazione regola critica `.cursor/rules/docs-structure-critical.mdc`
- Aggiornamento memorie Cursor
- Documentazione delle correzioni implementate

## Checklist di Conformità

- [x] **NON** esiste cartella `docs/` nella root del progetto
- [x] **NON** esiste cartella `docs/` nella root Laravel
- [x] **SÌ** la documentazione è nel modulo appropriato
- [x] **SÌ** la documentazione è co-locata con il codice
- [x] **SÌ** esistono collegamenti bidirezionali appropriati
- [x] **SÌ** le regole sono implementate e attive
- [x] **SÌ** le memorie sono aggiornate

## Verifica Automatica

Comandi per verificare conformità:

```bash
# Verifica che NON esistano cartelle docs inappropriate
find . -maxdepth 2 -name "docs" -type d | grep -E "(^\./docs$|^\./laravel/docs$)"

# Verifica che esistano cartelle docs nei moduli
find laravel/Modules -name "docs" -type d
```

## Prevenzione Futura

### **Regole Attive**:
1. **Regola Critica**: `.cursor/rules/docs-structure-critical.mdc`
2. **Memoria**: `.cursor/memories/docs-structure-violation.mdc`
3. **Checklist**: Verifica automatica prima di ogni creazione documentazione

### **Processo di Creazione Documentazione**:
1. **Identificare** il modulo di appartenenza
2. **Creare** la cartella docs nel modulo appropriato
3. **Verificare** che non esistano cartelle docs inappropriate
4. **Aggiornare** collegamenti bidirezionali
5. **Testare** la conformità con le regole

## Benefici della Correzione

### **Architetturali**:
- ✅ **Modularità Vera**: Ogni modulo è autonomo e completo
- ✅ **Co-locazione**: Documentazione sempre vicina al codice
- ✅ **Responsabilità**: Separazione netta delle responsabilità

### **Operativi**:
- ✅ **Manutenibilità**: Facile aggiornare documentazione
- ✅ **Ricerca**: Documentazione sempre nel posto giusto
- ✅ **Consistenza**: Single source of truth per ogni modulo

### **Business**:
- ✅ **Scalabilità**: Facile aggiungere nuovi moduli
- ✅ **Qualità**: Rispetto dei principi architetturali
- ✅ **Competitività**: Architettura modulare avanzata

## Collegamenti e Riferimenti

- [Regola Critica](.cursor/rules/docs-structure-critical.mdc)
- [Regole Modularità](.cursor/rules/modularity-hardcoded-names.mdc)
- [Documentazione Modulo Notify](../laravel/Modules/Notify/docs/)
- [Documentazione Modulo SaluteMo](../laravel/Modules/SaluteMo/docs/)

---

**Questa correzione è CRITICA per mantenere l'architettura modulare del sistema. La regola deve essere applicata SEMPRE.**

**Ultimo aggiornamento**: 2025-08-29
**Stato**: Violazione corretta, regole implementate
**Responsabile**: Team di sviluppo Laraxot
description:
globs:
alwaysApply: true
---
